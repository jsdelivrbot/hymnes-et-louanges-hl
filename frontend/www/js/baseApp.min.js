!function(a){app=window.app||{}}(_WQ),function(a){function b(b){b.success===!1&&b.msg===-100&&a.logout()}function c(a,c){if(4===a.readyState&&"function"==typeof c)if(200===a.status){var d=a.getResponseHeader("Content-Type").toLowerCase(),e="application/json";if(d.indexOf(e)>-1){var f=JSON.parse(a.responseText);b(f),c(f)}else c(a.responseText)}else c("")}function d(a,b,d,e,f){e=e||!1,f=f||"GET",d=d||null;var g=a;if("GET"===d&&e)g+="/"+session.getId(),d=null;else if(d){if(f="GET"===f?"POST":f,"object"==typeof d&&e){var h="string"==typeof e?e:"key";d[h]=session.getId()}"string"!=typeof d&&(d=JSON.stringify(d))}var i=new XMLHttpRequest;i.open(f,g,!0),"GET"!==f&&i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.onerror=function(a){console.error("REQUEST ERROR!",i.statusText)},i.send(d),i.onloadend=function(a){c(i,b)}}a.responseHandler=c,a.getRequest=function(a,b){d(a,b,"GET",!0)},a.upsertRequest=function(a,b,c,e){var f="POST";c&&(f="PUT",b.id=c),d(a,e,b,"auth",f)},window.request=d}(app);